clear;
close all;

% tic;
% x=1;
% result =[];
% for K=5:1:12
%     [count_prob] = pao_K(K);
%     result(x,:)= count_prob;
%     x=x+1;
%     K
%     count_prob
% end
% result
% save result;
% toc;
% 
% K

% %*******************ut改变***********************

% tic;
% x=1;
% result_ut =[];
% for u_t=20:5:40
%     [count_prob] = pao_K(u_t);
%     result_ut(x,:)= count_prob;
%     x=x+1;
%     u_t
%     count_prob
% end
% result_ut
% save result_ut;
% toc;

% %******************************************
% tic;
% x1=1;
% result1 =[];
% for K=5:1:12
%     [SMDP] = pao_SMDP(K);
%     [GA] = pao_GA(K);
%     result1(x1,1)= SMDP;
%     result1(x1,2)= GA;
%     x1=x1+1;
%     K
% end
% result1
% save result1;
% toc;

%******************************************

% count_prob =[0.375000000000000,0.450000000000000,0.0750000000000000,0.100000000000000;0.349206349206349,0.365079365079365,0.111111111111111,0.174603174603175;0.319148936170213,0.319148936170213,0.127659574468085,0.234042553191489;0.296296296296296,0.281481481481482,0.140740740740741,0.281481481481482;0.276595744680851,0.255319148936170,0.143617021276596,0.324468085106383;0.258823529411765,0.235294117647059,0.176470588235294,0.329411764705882;0.242603550295858,0.218934911242604,0.286982248520710,0.251479289940828;0.229545454545455,0.204545454545455,0.372727272727273,0.193181818181818];
%****************************************
% lambda_f =30;       %车辆到达率20
% u_f = 20;                 %车辆离开率10
% u_t =25;                   %任务服务速率30
% count_prob =[0.375000000000000,0.325000000000000,0.175000000000000,0.125000000000000;0.349206349206349,0.285714285714286,0.174603174603175,0.190476190476190;0.319148936170213,0.265957446808511,0.170212765957447,0.244680851063830;0.296296296296296,0.244444444444444,0.170370370370370,0.288888888888889;0.276595744680851,0.228723404255319,0.164893617021277,0.329787234042553;0.258823529411765,0.215686274509804,0.192156862745098,0.333333333333333;0.242603550295858,0.204142011834320,0.301775147928994,0.251479289940828];
%****************************************
% lambda_f =20;       %车辆到达率30
% u_f = 10;                 %车辆离开率20
% u_t =25;                   %任务服务速率30
% count_prob =[0.375000000000000,0.400000000000000,0.150000000000000,0.0750000000000000;0.349206349206349,0.333333333333333,0.158730158730159,0.158730158730159;0.319148936170213,0.297872340425532,0.159574468085106,0.223404255319149;0.296296296296296,0.266666666666667,0.162962962962963,0.274074074074074;0.276595744680851,0.244680851063830,0.159574468085106,0.319148936170213;0.258823529411765,0.227450980392157,0.188235294117647,0.325490196078431;0.242603550295858,0.213017751479290,0.301775147928994,0.242603550295858;0.229545454545455,0.200000000000000,0.386363636363636,0.184090909090909];
% %****************************************
% 最终版
%  count_prob =[0.375000000000000,0.325000000000000,0.175000000000000,0.125000000000000;0.349206349206349,0.285714285714286,0.174603174603175,0.190476190476190;0.319148936170213,0.265957446808511,0.170212765957447,0.244680851063830;0.296296296296296,0.244444444444444,0.170370370370370,0.288888888888889;0.276595744680851,0.228723404255319,0.164893617021277,0.329787234042553;0.258823529411765,0.215686274509804,0.192156862745098,0.333333333333333;0.242603550295858,0.204142011834320,0.301775147928994,0.251479289940828;0.229545454545455,0.193181818181818,0.384090909090909,0.193181818181818];

% 最最最终版ut=25
% count_prob =[0.375000000000000,0.325000000000000,0.175000000000000,0.125000000000000;0.349206349206349,0.285714285714286,0.174603174603175,0.190476190476190;0.319148936170213,0.265957446808511,0.170212765957447,0.244680851063830;0.296296296296296,0.244444444444444,0.170370370370370,0.288888888888889;0.276595744680851,0.228723404255319,0.164893617021277,0.329787234042553;0.258823529411765,0.215686274509804,0.192156862745098,0.333333333333333;0.242603550295858,0.204142011834320,0.301775147928994,0.251479289940828;0.229545454545455,0.193181818181818,0.384090909090909,0.193181818181818];

%% ************************************在论文中的图*********************************************
% lambda_f =10   u_f = 10   ut=25
% count_prob =[0.375000000000000,0.350000000000000,0.150000000000000,0.125000000000000;0.349206349206349,0.301587301587302,0.158730158730159,0.190476190476190;0.319148936170213,0.276595744680851,0.159574468085106,0.244680851063830;0.296296296296296,0.251851851851852,0.162962962962963,0.288888888888889;0.276595744680851,0.234042553191489,0.159574468085106,0.329787234042553;0.258823529411765,0.219607843137255,0.188235294117647,0.333333333333333;0.242603550295858,0.207100591715976,0.298816568047337,0.251479289940828;0.229545454545455,0.195454545454545,0.381818181818182,0.193181818181818];
% lambda_f =10   u_f = 10   ut=50
count_prob =[0.375000000000000,0.350000000000000,0.125000000000000,0.150000000000000;0.349206349206349,0.301587301587302,0.142857142857143,0.206349206349206;0.319148936170213,0.265957446808511,0.159574468085106,0.255319148936170;0.296296296296296,0.244444444444444,0.162962962962963,0.296296296296296;0.276595744680851,0.228723404255319,0.159574468085106,0.335106382978723;0.258823529411765,0.215686274509804,0.235294117647059,0.290196078431373;0.242603550295858,0.239644970414201,0.295857988165681,0.221893491124260;0.229545454545455,0.370454545454546,0.229545454545455,0.170454545454545];


figure
x = 5:1:12;
plot(x,count_prob(:,1),'--dg','linewidth',1.5);
hold on;
plot(x,count_prob(:,2),'--sb','linewidth',1.5);
hold on;
plot(x,count_prob(:,3),'--^m','linewidth',1.5);
hold on;
plot(x,count_prob(:,4),'--or','linewidth',1.5);
hold on;
xlabel('Maximum number of vehicles in the VFC system ({\itK})');
ylabel('Action probability');
% axis([5 12 0.1 0.45]);
legend('Action 0','Action 1','Action 2','Action 3','Location','NorthWest');

% % %*******************ut改变***********************
% % K=10
% ut=[0.305882352941177,0.160784313725490,0.164705882352941,0.368627450980392;0.258823529411765,0.207843137254902,0.172549019607843,0.360784313725490;0.258823529411765,0.215686274509804,0.200000000000000,0.325490196078431;0.258823529411765,0.227450980392157,0.188235294117647,0.325490196078431;0.258823529411765,0.227450980392157,0.215686274509804,0.298039215686275];
% % K=6
% ut=[0.349206349206349,0.253968253968254,0.190476190476190,0.206349206349206;0.349206349206349,0.253968253968254,0.206349206349206,0.190476190476190;0.349206349206349,0.285714285714286,0.206349206349206,0.158730158730159;0.349206349206349,0.317460317460317,0.174603174603175,0.158730158730159;0.349206349206349,0.333333333333333,0.158730158730159,0.158730158730159];
% % K=8
% ut=[0.296296296296296,0.229629629629630,0.177777777777778,0.296296296296296;0.296296296296296,0.229629629629630,0.192592592592593,0.281481481481482;0.296296296296296,0.244444444444444,0.185185185185185,0.274074074074074;0.296296296296296,0.266666666666667,0.162962962962963,0.274074074074074;0.296296296296296,0.266666666666667,0.162962962962963,0.274074074074074];

% figure
% x = 10:5:30;
% plot(x,ut(:,1),'--dm','linewidth',1.5);
% hold on;
% plot(x,ut(:,2),'--sg','linewidth',1.5);
% hold on;
% plot(x,ut(:,3),'--^b','linewidth',1.5);
% hold on;
% plot(x,ut(:,4),'--or','linewidth',1.5);
% hold on;
% xlabel('Maximum number of vehicles in VFC system');
% ylabel('Action probability');
% % axis([5 12 0.1 0.45]);
% legend('action0','action1','action2','action3','Location','NorthWest');